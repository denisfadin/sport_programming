<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>1671. Паутина Ананси @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="/print.aspx?space=1&amp;num=1671"><LINK REL="alternate" HREFLANG="en-us" HREF="/print.aspx?space=1&amp;num=1671&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="/print.aspx?space=1&amp;num=1671&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="/style56.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="/favicon.ico"></HEAD><BODY><DIV CLASS="prnver"><H2 class="problem_title">1671. Паутина Ананси</H2><DIV class="problem_limits">Ограничение времени: 1.0 секунды<BR>Ограничение памяти: 64 МБ<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Усатый-Полосатый XIII решил отомстить Ананси за освобождение бабочек, разрушив дом Ананси&nbsp;&mdash; его паутину. Паутина состоит из <i>N</i> узлов, некоторые из которых соединены нитями. Будем говорить, что два узла принадлежат одному кусочку,
если от одного узла до другого можно добраться по нитям паутины. Усатый-Полосатый уже решил, какие нити и в каком порядке он будет рвать, и теперь хочет узнать, на сколько кусочков будет распадаться паутина после каждого из его действий.</DIV></DIV><H3 CLASS="problem_subtitle">Исходные данные</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">В первой строке через пробел записаны числа <i>N</i> и <i>M</i>&nbsp;&mdash; количество узлов и нитей в паутине <nobr>(2 &le; <i>N</i> &le; 100000;</nobr> <nobr>1 &le; <i>M</i> &le; 100000)</nobr>. В каждой из следующих <i>M</i> строк через пробел записаны два различных числа&nbsp;&mdash; номера узлов, которые соединяет очередная нить. Узлы занумерованы числами от 1 до <i>N</i>, нити занумерованы числами от 1 до <i>M</i> в том порядке, в котором они перечислены. Далее записано число <i>Q</i>&nbsp;&mdash; количество нитей, которое собирается порвать Усатый-Полосатый <nobr>(1 &le; <i>Q</i> &le; <i>M</i>)</nobr>. В последней строке записаны номера этих нитей&nbsp;&mdash; различные числа, отделяемые друг от друга пробелом.</DIV></DIV><H3 CLASS="problem_subtitle">Результат</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Выведите через пробел <i>Q</i> чисел&nbsp;&mdash; число кусочков, из которых будет состоять паутина Ананси после каждого обрыва нити.</DIV></DIV><H3 CLASS="problem_subtitle">Примеры</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">исходные данные</TH><TH WIDTH="350">результат</TH></TR><TR><TD><PRE>4 4
1 2
2 3
1 3
3 4
3
2 4 3</PRE></TD><TD><PRE>1 2 3</PRE></TD></TR><TR><TD><PRE>3 1
1 2
1
1
</PRE></TD><TD><PRE>3</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Автор задачи: </B>Дмитрий Полетаев (подготовка — Алексей Самсонов)<BR><B>Источник задачи: </B>Ural SU Contest. Petrozavodsk Summer Session, August 2008<BR></DIV></DIV></DIV><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({ id:20918869, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript></BODY></HTML>